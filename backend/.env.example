# =========================================================
# HouseholdHub Backend Configuration Template
# =========================================================
# Copy this file to .env and fill in your actual values
# All values marked as REQUIRED must be set for the application to work properly

# =========================================================
# ENVIRONMENT SETTINGS
# =========================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =========================================================
# AZURE CONFIGURATION
# =========================================================
# REQUIRED: Your Azure tenant, subscription, and resource group
AZURE_TENANT_ID=your-tenant-id-here
AZURE_SUBSCRIPTION_ID=your-subscription-id-here
AZURE_RESOURCE_GROUP=your-resource-group-name

# =========================================================
# DATABASE CONFIGURATION
# =========================================================
# REQUIRED: Azure SQL Database connection string
# Example: Server=tcp:yourserver.database.windows.net,1433;Database=householdhub;Authentication=Active Directory Default;
AZURE_SQL_CONNECTION_STRING=Server=tcp:your-server.database.windows.net,1433;Database=householdhub;Authentication=Active Directory Default;
SQL_QUERY_TIMEOUT=30
SQL_MAX_POOL_SIZE=10

# =========================================================
# AZURE AI SEARCH
# =========================================================
# REQUIRED: Azure AI Search endpoint
AI_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
# Optional: AI Search key (leave empty to use Managed Identity)
AI_SEARCH_KEY=
AI_SEARCH_INDEX_NAME=crm-notes

# =========================================================
# AZURE OPENAI
# =========================================================
# REQUIRED: Azure OpenAI configuration
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
# Optional: OpenAI key (leave empty to use Managed Identity)
AZURE_OPENAI_KEY=
# REQUIRED: Update these deployment names to match your actual deployments
# Common names: gpt-4, gpt-4o, gpt-35-turbo, text-embedding-ada-002
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-small
AZURE_OPENAI_API_VERSION=2024-02-01

# =========================================================
# AZURE SERVICE BUS
# =========================================================
# REQUIRED: Service Bus configuration for agent-to-agent messaging
SERVICE_BUS_NAMESPACE=your-servicebus-namespace.servicebus.windows.net
# Connection string (can use either this OR namespace with Managed Identity)
SERVICE_BUS_CONNECTION_STRING=Endpoint=sb://your-namespace.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=your-key
SERVICE_BUS_TOPIC=a2a-messages
SERVICE_BUS_SUBSCRIPTION_PREFIX=

# =========================================================
# AZURE STORAGE
# =========================================================
# REQUIRED: Storage account for audit logs
STORAGE_ACCOUNT_NAME=your-storage-account-name
STORAGE_CONTAINER_NAME=audit-logs

# =========================================================
# AZURE KEY VAULT
# =========================================================
# REQUIRED: Key Vault URI for secrets management
KEY_VAULT_URI=https://your-keyvault.vault.azure.net/

# =========================================================
# AUTHENTICATION
# =========================================================
# Optional: Restrict to specific Azure AD tenant
ALLOWED_TENANT=your-tenant-id-here

# =========================================================
# FRONTEND CONFIGURATION
# =========================================================
FRONTEND_URL=http://localhost:3000
# JSON array format for multiple origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001"]

# =========================================================
# AGENT CONFIGURATION
# =========================================================
AGENT_NAME=local-dev
MAX_RETRY_ATTEMPTS=3
MESSAGE_TIMEOUT_SECONDS=30

# =========================================================
# PERFORMANCE SETTINGS
# =========================================================
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT_SECONDS=60

# =========================================================
# MONITORING & LOGGING
# =========================================================
# Optional: Application Insights connection string
APPLICATIONINSIGHTS_CONNECTION_STRING=

# =========================================================
# SETUP INSTRUCTIONS
# =========================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in all REQUIRED values above
# 3. For local development: az login (Azure CLI)
# 4. Test configuration: python -c "from common.config import get_settings; print('Config loaded successfully')"
# 5. Check Azure OpenAI deployments: az cognitiveservices account deployment list --name <openai-resource-name> --resource-group <rg-name>